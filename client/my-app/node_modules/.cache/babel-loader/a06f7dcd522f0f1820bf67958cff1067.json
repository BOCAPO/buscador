{"ast":null,"code":"var _jsxFileName = \"/user/src/app/src/components/searchDrawer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { styled, useTheme } from '@mui/material/styles';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@mui/material/Box';\nimport Drawer from '@mui/material/Drawer';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport MuiAppBar from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport InboxIcon from '@mui/icons-material/MoveToInbox';\nimport MailIcon from '@mui/icons-material/Mail';\nimport { Button, TextField } from '@mui/material';\nimport { BiSearchAlt } from \"react-icons/bi\";\nimport BasicDateRangePicker from './dateRangePicker';\nimport SimpleAccordion from './noticiaAccord';\nimport MultipleSelectCheckmarks from './selectSource';\nimport InputSlider from './resultsSlider';\nimport Pagination from './Pagination';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst drawerWidth = 240;\nconst Main = styled('main', {\n  shouldForwardProp: prop => prop !== 'open'\n})(_ref => {\n  let {\n    theme,\n    open\n  } = _ref;\n  return {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    marginLeft: `-${drawerWidth}px`,\n    ...(open && {\n      transition: theme.transitions.create('margin', {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen\n      }),\n      marginLeft: 0\n    })\n  };\n});\nconst AppBar = styled(MuiAppBar, {\n  shouldForwardProp: prop => prop !== 'open'\n})(_ref2 => {\n  let {\n    theme,\n    open\n  } = _ref2;\n  return {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    ...(open && {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: `${drawerWidth}px`,\n      transition: theme.transitions.create(['margin', 'width'], {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    })\n  };\n});\nconst DrawerHeader = styled('div')(_ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end'\n  };\n});\nconst useStyles = makeStyles(theme => ({\n  Progress: {\n    textAlign: 'center',\n    color: 'black',\n    fontWeight: 'bold',\n    marginTop: 20,\n    fontSize: 20\n  }\n}));\nexport default function PersistentDrawerLeft(props) {\n  _s();\n\n  const theme = useTheme();\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [data, setData] = useState([]);\n  const [tabelas, setTabelas] = useState(['Impressos', 'Notícias']);\n  const [keywords, setKeywords] = useState(\"\");\n  const [searchDates, setSearchDates] = useState([null, null]);\n  const [resultCount, setResultCount] = useState(10000);\n  /*\r\n  |----------------------------------------------------------------------------\r\n  | Pagination\r\n  |----------------------------------------------------------------------------\r\n  */\n\n  const [loading, setLoading] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [newsPerPage] = useState(10);\n  const indexOfLastNews = currentPage * newsPerPage;\n  const indexOfirstNews = indexOfLastNews - newsPerPage;\n  const currentNews = data.slice(indexOfirstNews, indexOfLastNews);\n\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  function updateSearchDate(value) {\n    setSearchDates(value.map(v => {\n      try {\n        return v.toJSON();\n      } catch (error) {\n        return null;\n      }\n    }));\n  }\n\n  const processSearchTerms = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setKeywords(value);\n  };\n\n  const processTabelas = e => {\n    setTabelas(e);\n  };\n\n  const processResultCount = e => {\n    console.log(e);\n    setResultCount(e);\n  };\n\n  const DateRangePicker = () => {\n    return /*#__PURE__*/_jsxDEV(BasicDateRangePicker, {\n      value: searchDates,\n      setValue: updateSearchDate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this);\n  };\n\n  const buildSideBar = () => {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(List, {\n        children: [/*#__PURE__*/_jsxDEV(ListItem, {\n          children: /*#__PURE__*/_jsxDEV(DateRangePicker, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"searchTerms\",\n            label: \"Buscar por...\",\n            value: keywords,\n            onChange: processSearchTerms\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n          children: /*#__PURE__*/_jsxDEV(MultipleSelectCheckmarks, {\n            tabelas: tabelas,\n            setTabelas: processTabelas\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            endIcon: /*#__PURE__*/_jsxDEV(BiSearchAlt, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 50\n            }, this),\n            onClick: fetchDataFromSolr,\n            children: \"Pesquisar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this);\n  };\n\n  const Content = () => {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      overflow: \"hidden\",\n      children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.Progress,\n        children: \"Carregando Not\\xEDcias, aguarde...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 22\n      }, this) : false, /*#__PURE__*/_jsxDEV(List, {\n        children: currentNews.map((el, i) => /*#__PURE__*/_jsxDEV(Box, {\n          component: \"span\",\n          overflow: \"hidden\",\n          children: [/*#__PURE__*/_jsxDEV(ListItem, {\n            children: /*#__PURE__*/_jsxDEV(SimpleAccordion, {\n              noticia: el\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 17\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        newsPerPage: newsPerPage,\n        totalNews: data.length,\n        paginate: paginate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this);\n  };\n\n  function buildDateRequestString() {\n    var dateString = \"\";\n\n    if (searchDates[0] != null) {\n      dateString += \"&data_inicio=\" + searchDates[0];\n    }\n\n    if (searchDates[1] != null) {\n      dateString += \"&data_final=\" + searchDates[1];\n    }\n\n    console.log(searchDates);\n    return dateString;\n  }\n\n  const fetchDataFromSolr = () => {\n    setLoading(true);\n    var localData = [];\n\n    if (tabelas.length > 0 && tabelas.includes(\"Notícias\")) {\n      fetch(\"/api/getFromNoticias/?keywords=\" + keywords + buildDateRequestString()).then(res => res.json()).then(json => {\n        localData = localData.concat(json);\n        setData(localData);\n        setLoading(false);\n      });\n    }\n\n    if (tabelas.length > 0 && tabelas.includes(\"Impressos\")) {\n      console.log('aff');\n      fetch(\"/api/getFromImpressos/?keywords=\" + keywords + buildDateRequestString()).then(res => res.json()).then(json => {\n        localData = localData.concat(json);\n        setData(localData);\n      });\n    }\n  };\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex'\n    },\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"fixed\",\n      open: open,\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"inherit\",\n          \"aria-label\": \"open drawer\",\n          onClick: handleDrawerOpen,\n          edge: \"start\",\n          sx: {\n            mr: 2,\n            ...(open && {\n              display: 'none'\n            })\n          },\n          children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          noWrap: true,\n          component: \"div\",\n          children: \"iClipping\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n      sx: {\n        width: drawerWidth,\n        flexShrink: 0,\n        '& .MuiDrawer-paper': {\n          width: drawerWidth,\n          boxSizing: 'border-box'\n        }\n      },\n      variant: \"persistent\",\n      anchor: \"left\",\n      open: open,\n      children: [/*#__PURE__*/_jsxDEV(DrawerHeader, {\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleDrawerClose,\n          children: theme.direction === 'ltr' ? /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 42\n          }, this) : /*#__PURE__*/_jsxDEV(ChevronRightIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 64\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), buildSideBar(), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Main, {\n      open: open,\n      children: [/*#__PURE__*/_jsxDEV(DrawerHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this), Content()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PersistentDrawerLeft, \"9Lh2hwz4iuFEBPCVPlzNzYZtI1U=\", false, function () {\n  return [useTheme, useStyles];\n});\n\n_c = PersistentDrawerLeft;\n\nvar _c;\n\n$RefreshReg$(_c, \"PersistentDrawerLeft\");","map":{"version":3,"sources":["/user/src/app/src/components/searchDrawer.js"],"names":["React","useState","useEffect","styled","useTheme","makeStyles","Box","Drawer","CssBaseline","MuiAppBar","Toolbar","Typography","Divider","IconButton","MenuIcon","ChevronLeftIcon","ChevronRightIcon","List","ListItem","ListItemIcon","ListItemText","InboxIcon","MailIcon","Button","TextField","BiSearchAlt","BasicDateRangePicker","SimpleAccordion","MultipleSelectCheckmarks","InputSlider","Pagination","drawerWidth","Main","shouldForwardProp","prop","theme","open","flexGrow","padding","spacing","transition","transitions","create","easing","sharp","duration","leavingScreen","marginLeft","easeOut","enteringScreen","AppBar","width","DrawerHeader","display","alignItems","mixins","toolbar","justifyContent","useStyles","Progress","textAlign","color","fontWeight","marginTop","fontSize","PersistentDrawerLeft","props","classes","setOpen","data","setData","tabelas","setTabelas","keywords","setKeywords","searchDates","setSearchDates","resultCount","setResultCount","loading","setLoading","currentPage","setCurrentPage","newsPerPage","indexOfLastNews","indexOfirstNews","currentNews","slice","paginate","pageNumber","updateSearchDate","value","map","v","toJSON","error","processSearchTerms","e","name","target","processTabelas","processResultCount","console","log","DateRangePicker","buildSideBar","fetchDataFromSolr","Content","el","i","length","buildDateRequestString","dateString","localData","includes","fetch","then","res","json","concat","handleDrawerOpen","handleDrawerClose","mr","flexShrink","boxSizing","direction"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { styled, useTheme } from '@mui/material/styles';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@mui/material/Box';\r\nimport Drawer from '@mui/material/Drawer';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport MuiAppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport InboxIcon from '@mui/icons-material/MoveToInbox';\r\nimport MailIcon from '@mui/icons-material/Mail';\r\nimport { Button, TextField } from '@mui/material';\r\nimport {BiSearchAlt} from \"react-icons/bi\";\r\nimport BasicDateRangePicker from './dateRangePicker'\r\nimport SimpleAccordion from './noticiaAccord'\r\nimport MultipleSelectCheckmarks from './selectSource'\r\nimport InputSlider from './resultsSlider'\r\nimport Pagination from './Pagination'\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst Main = styled('main', { shouldForwardProp: (prop) => prop !== 'open' })(\r\n  ({ theme, open }) => ({\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: `-${drawerWidth}px`,\r\n    ...(open && {\r\n      transition: theme.transitions.create('margin', {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n      marginLeft: 0,\r\n    }),\r\n  }),\r\n);\r\n\r\nconst AppBar = styled(MuiAppBar, {\r\n  shouldForwardProp: (prop) => prop !== 'open',\r\n})(({ theme, open }) => ({\r\n  transition: theme.transitions.create(['margin', 'width'], {\r\n    easing: theme.transitions.easing.sharp,\r\n    duration: theme.transitions.duration.leavingScreen,\r\n  }),\r\n  ...(open && {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: `${drawerWidth}px`,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  }),\r\n}));\r\n\r\nconst DrawerHeader = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  padding: theme.spacing(0, 1),\r\n  ...theme.mixins.toolbar,\r\n  justifyContent: 'flex-end',\r\n}));\r\n\r\nconst useStyles = makeStyles( ( theme ) => ({\r\n\r\n  Progress: {\r\n    textAlign:'center',\r\n    color: 'black',\r\n    fontWeight: 'bold',\r\n    marginTop: 20,\r\n    fontSize:20\r\n  } \r\n\r\n})\r\n)\r\n\r\nexport default function PersistentDrawerLeft(props) {\r\n  const theme   = useTheme();\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [data, setData] = useState([])\r\n\r\n  const [tabelas    , setTabelas    ] = useState(['Impressos', 'Notícias'])\r\n  const [keywords   , setKeywords   ] = useState(\"\")    \r\n  const [searchDates, setSearchDates] = useState([null, null]) \r\n  const [resultCount, setResultCount] = useState(10000) \r\n\r\n  /*\r\n  |----------------------------------------------------------------------------\r\n  | Pagination\r\n  |----------------------------------------------------------------------------\r\n  */\r\n  const [ loading, setLoading ]         = useState( false );\r\n  const [ currentPage, setCurrentPage ] = useState( 1 );\r\n  const [ newsPerPage ]                 = useState( 10 );\r\n\r\n  const indexOfLastNews = currentPage * newsPerPage;\r\n  const indexOfirstNews = indexOfLastNews - newsPerPage;\r\n  const currentNews     = data.slice( indexOfirstNews,indexOfLastNews );\r\n  const paginate        = pageNumber => setCurrentPage( pageNumber );\r\n  \r\n\r\n  function updateSearchDate(value){\r\n    setSearchDates(value.map(v => {\r\n      try {return v.toJSON()} catch (error) {return null}  }\r\n    ))\r\n  }\r\n\r\n  const processSearchTerms = (e) => {\r\n    const { name, value } = e.target\r\n    setKeywords(value)\r\n  }\r\n\r\n  const processTabelas = (e) => {\r\n    setTabelas(e)\r\n  }\r\n\r\n  const processResultCount = (e) => {\r\n    console.log(e)\r\n    setResultCount(e)\r\n  }\r\n\r\n  const DateRangePicker = () => {\r\n    return (<BasicDateRangePicker value={searchDates} setValue={updateSearchDate}/>)\r\n  }\r\n\r\n  const buildSideBar = () => {\r\n\r\n    return (\r\n      <Box>\r\n        <List>\r\n          <ListItem>\r\n            <DateRangePicker />\r\n          </ListItem>\r\n          <ListItem>\r\n            <TextField\r\n              id=\"searchTerms\"\r\n              label=\"Buscar por...\"\r\n              value={keywords}\r\n              onChange={processSearchTerms}\r\n            />\r\n          </ListItem>\r\n          <ListItem>\r\n            <MultipleSelectCheckmarks tabelas={tabelas} setTabelas={processTabelas}/>\r\n          </ListItem>\r\n          <ListItem>\r\n            <Button variant=\"contained\" endIcon={<BiSearchAlt/>} onClick={fetchDataFromSolr}>\r\n              Pesquisar\r\n            </Button>\r\n          </ListItem>\r\n\r\n        </List>\r\n      </Box>\r\n    )\r\n  }\r\n\r\n  const Content = () => {   \r\n    return (\r\n      <Box overflow=\"hidden\">          \r\n          {loading ? <div className={classes.Progress}>Carregando Notícias, aguarde...</div> : false}\r\n          <List>\r\n            {(currentNews.map((el,i) => (\r\n              <Box key={i} component=\"span\" overflow=\"hidden\">\r\n                <ListItem>\r\n                  <SimpleAccordion noticia={el} />\r\n                </ListItem>\r\n                <Divider />\r\n              </Box>\r\n            )))\r\n            }\r\n          </List>\r\n          <Pagination newsPerPage={ newsPerPage } totalNews={ data.length } paginate={ paginate }/>\r\n      </Box>\r\n    )\r\n  }\r\n\r\n  function buildDateRequestString(){\r\n    var dateString = \"\"\r\n    if(searchDates[0] != null){\r\n      dateString += \"&data_inicio=\"+searchDates[0]\r\n    }\r\n    if(searchDates[1] != null){\r\n      dateString += \"&data_final=\"+searchDates[1]\r\n    }\r\n    console.log(searchDates)\r\n    return dateString\r\n  }\r\n\r\n  const fetchDataFromSolr = () => {\r\n    setLoading( true );\r\n    var localData = []\r\n    if (tabelas.length > 0 && tabelas.includes(\"Notícias\")){\r\n      fetch(\"/api/getFromNoticias/?keywords=\"+keywords+buildDateRequestString()).then(\r\n      res => res.json()\r\n    ).then(\r\n      json => {\r\n        localData = localData.concat(json)\r\n        setData(localData)\r\n        setLoading( false );\r\n      })}\r\n    if (tabelas.length > 0 && tabelas.includes(\"Impressos\")){\r\n      console.log('aff')\r\n      fetch(\"/api/getFromImpressos/?keywords=\"+keywords+buildDateRequestString()).then(\r\n      res => res.json()\r\n    ).then(\r\n      json => {\r\n        localData = localData.concat(json)\r\n        setData(localData)        \r\n      })}\r\n    }\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex' }}>\r\n      <CssBaseline />\r\n      <AppBar position=\"fixed\" open={open}>\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            sx={{ mr: 2, ...(open && { display: 'none' }) }}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" noWrap component=\"div\">\r\n            iClipping\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        sx={{\r\n          width: drawerWidth,\r\n          flexShrink: 0,\r\n          '& .MuiDrawer-paper': {\r\n            width: drawerWidth,\r\n            boxSizing: 'border-box',\r\n          },\r\n        }}\r\n        variant=\"persistent\"\r\n        anchor=\"left\"\r\n        open={open}\r\n      >\r\n        <DrawerHeader>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n          </IconButton>\r\n        </DrawerHeader>\r\n        <Divider />\r\n          {buildSideBar()}\r\n        <Divider />\r\n        \r\n      </Drawer>\r\n      <Main open={open}>\r\n        <DrawerHeader />\r\n          {Content()}\r\n      </Main>\r\n    </Box>\r\n  );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}